# Решение

Предложенное решение имеет ограничение по памяти $$M(m,n) = O(m+log(n))$$ и по времени $$T(m,n) = О(m+log(n))$$ на каждую пару $$m,n$$.

Объяснение и доказательства.

С начала докажем, что если $$F_{n}$$ $$n$$-ое число Фибоначчи, то для всех $$n$$ имеется :

$$F_{2n+1} = F_{n+1}^2+F_{n}^2$$

$$F_{2n} = (2F_{n-1}+F_{n})F_{n}$$

**док-во:**

Мы можем написать рекуррентную формулу определения $$F_{n}$$ вот так.

$$F_{n+1} = 1*F_{n} + 1*F_{n-1}$$

$$F_{n} = 1*F_{n} + 0*F_{n-1}$$

то есть : 

$$X_{n} = AX_{n-1}$$

где $$A=\begin{pmatrix}
1 & 1\\
1 & 0
\end{pmatrix}$$ и $$X_{n} = \begin{pmatrix}
F_{n+1}\\
F_{n}
\end{pmatrix}$$.

Из этого следует : 

$$X_{n} = A^{n-1}X_{1}$$

$$X_{n-1} = A^{n-1}X_{0}$$

где $$A=\begin{pmatrix}
1 & 1\\
1 & 0
\end{pmatrix}$$ и $$X_{n} = \begin{pmatrix}
F_{n+1}\\
F_{n}
\end{pmatrix}$$.

Так как $$F_{2}=1$$, $$F_{1}=1$$, $$F_{0}=0$$, если приставить друг другу столбики $$X_{0}$$ $$X_{1}$$ то выходит $$(X_{0} X_{1}) = \begin{pmatrix}
1 & 1\\
1 & 0
\end{pmatrix} = A$$.

В итоге : 

$$Z_{n} = \begin{pmatrix}
F_{n+1} & F_{n}\\
F_{n} & F_{n-1}
\end{pmatrix} = (X_{n}X_{n-1}) = A^{n}$$

K тому же, имеется $$A^{2n} = A^{n}A^{n}$$.
И идентифицируя компоненты, выявлеяем тчсд. **#**

Далее используя $$F_{n+1} = F_{n} + F_{n-1}$$ легко показать, что:

$$F_{2n+1} = F_{n}^2+(F_{n}+F_{n-1})^2$$

$$F_{2n} = (2F_{n-1}+F_{n})F_{n}$$

$$F_{2n-1} = F_{n}^2+F_{n-1}^2$$

### TO BE CONTINUED ###
